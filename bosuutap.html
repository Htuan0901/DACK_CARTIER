<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CARTIER</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Open Sans', sans-serif;
            background-color: #f8f8f8;
            color: #8B4513; /* Thay đổi màu chữ sang nâu */
        }
        .top-line {
            background-color: #000;
            height: 3px; /* Adjusted height for a slightly thicker line */
        }
        .main-header {
            background-color: #fff;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }
        .header-icon {
            color: #8B4513; /* Thay đổi màu icon sang nâu */
            font-size: 1.1em;
            text-decoration: none;
        }
        .header-icon:hover {
            color: #654321; /* Màu nâu đậm hơn khi hover */
        }
        .logo-link {
            text-decoration: none;
            color: inherit; /* Inherit color so text inside link doesn't default to blue */
        }
        .logo {
            width: 100px;
            height: 100px;
            margin-bottom: 5px;
        }
        .logo-text {
            font-size: 1.2em; /* Smaller font size for logo text */
            font-weight: 700;
            color: #8B4513; /* Thay đổi màu logo text sang nâu */
            display: block; /* Ensure it takes full width */
            text-transform: uppercase; /* As seen in the image */
            letter-spacing: 1px;
        }
        .tagline {
            font-size: 13px;
            color: #A0522D; /* Thay đổi màu tagline sang nâu nhạt hơn */
            display: block;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .main-nav {
            background-color: #fff; /* Thay đổi background navigation sang trắng */
            color: #8B4513; /* Màu chữ nâu cho nav */
            padding: 10px 0;
            font-weight: 600;
            border-bottom: 1px solid #eee; /* Thêm đường kẻ dưới nav */
        }
        .main-nav .nav-link {
            color: #8B4513; /* Thay đổi màu link sang nâu */
            padding: 8px 25px; /* Tăng khoảng cách ngang để các mục trải rộng hơn */
            font-size: 1.07em;
            text-transform: uppercase;
            transition: all 0.3s ease;
        }
        .main-nav .nav-link.active,
        .main-nav .nav-link:hover {
            background-color: transparent; /* Loại bỏ màu nền khi active/hover */
            color: #8B4513; /* Giữ màu chữ nâu */
            border-radius: 0;
            border-bottom: 2px solid #8B4513; /* Thêm gạch chân màu nâu */
        }
        .hero-section {
            position: relative;
            height: 600px; /* Adjust height as needed */
            background-image: url('https://images.unsplash.com/photo-1544390025-a4b5d2d9c1b7?q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=1920&h=600&fit=crop'); /* Updated placeholder image from Unsplash */
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            text-align: center;
            filter: grayscale(10%); /* Subtle grayscale effect */
        }
        
        /* Banner lớn - Hero Section */
        .banner-lon {
            position: relative;
            height: 750px;
            background-image: url('test/banner_muahe.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            text-align: center;
            overflow: hidden;
        }
        
        .banner-lon::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.3);
            z-index: 1;
        }
        
        .banner-lon-content {
            position: relative;
            z-index: 2;
            max-width: 800px;
            padding: 0 20px;
        }
        
        .banner-lon h1 {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
            letter-spacing: 2px;
        }
        
        .banner-lon p {
            font-size: 1.2rem;
            margin-bottom: 30px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.7);
        }
        
        .banner-lon .btn {
            background-color: rgba(255, 255, 255, 0.9);
            color: #333;
            padding: 12px 30px;
            border: none;
            border-radius: 5px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
        }
        
        .banner-lon .btn:hover {
            background-color: #fff;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        /* Responsive cho banner lớn */
        @media (max-width: 768px) {
            .banner-lon {
                height: 400px;
            }
            
            .banner-lon h1 {
                font-size: 2.5rem;
            }
            
            .banner-lon p {
                font-size: 1rem;
            }
        }
        
        @media (max-width: 480px) {
            .banner-lon {
                height: 300px;
            }
            
            .banner-lon h1 {
                font-size: 2rem;
            }
        }
        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.2); /* Dark overlay */
        }
        .hero-content {
            z-index: 1;
        }
        .hero-content h1 {
            font-size: 4em;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        .breadcrumbs {
            background-color: #f2f2f2;
            padding: 15px 0;
            font-size: 0.9em;
            color: #8B4513; /* Thay đổi màu breadcrumbs sang nâu */
        }
        .breadcrumbs a {
            color: #8B4513; /* Thay đổi màu link breadcrumbs sang nâu */
            text-decoration: none;
        }
        .breadcrumbs a:hover {
            text-decoration: underline;
            color: #654321; /* Màu nâu đậm hơn khi hover */
        }
        .collection-title {
            font-size: 2em;
            font-weight: 600;
            margin-bottom: 25px;
            margin-top: 25px;
            color: #8B4513; /* Thay đổi màu tiêu đề collection sang nâu */
        }
        .product-grid {
            margin-bottom: 50px;
        }
        .product-card {
            background-color: #fff;
            border: 1px solid #eee;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }
        .product-card:hover {
            box-shadow: 0 4px 8px rgba(139, 69, 19, 0.2); /* Thay đổi shadow sang màu nâu */
        }
        .product-card img {
            width: 100%;
            height: 250px; /* Fixed height for consistency */
            object-fit: cover;
            border-bottom: 1px solid #eee;
        }
        .product-card .card-body {
            padding: 15px;
            text-align: center;
        }
        .product-card .card-title {
            font-size: 1.1em;
            font-weight: 600;
            margin-bottom: 5px;
            color: #8B4513; /* Thay đổi màu tiêu đề sản phẩm sang nâu */
        }
        .product-card .card-text {
            color: #A0522D; /* Thay đổi màu mô tả sản phẩm sang nâu nhạt */
            font-size: 0.9em;
        }
        /* Custom product action button colors */
        .product-actions .btn-outline-primary {
            color: #8b5412;
            border-color: #8b5412;
        }
        .product-actions .btn-outline-primary:hover {
            background-color: #8b5412;
            color: #fff;
            border-color: #8b5412;
        }
        .product-actions .btn-primary {
            background-color: #8b5412;
            border-color: #8b5412;
        }
        .product-actions .btn-primary:hover {
            background-color: #a05d16;
            border-color: #a05d16;
        }
        #search-form {
          transition: opacity 0.3s, visibility 0.3s;
          opacity: 0;
          visibility: hidden;
        }
        #search-form.show {
          opacity: 1;
          visibility: visible;
          display: block !important;
        }
    </style>
</head>
<body>
    <div class="top-line"></div>

    <!-- Main Header -->
    <header class="main-header">
        <div class="container">
            <div class="row align-items-center">
                <div class="col d-flex align-items-center">
                    <a href="dangnhap.html" class="header-icon"><i class="fas fa-user"></i></a>
                    <div id="global-search-dropdown" style="position: absolute; right: 120px; top: 100px; z-index: 2000; min-width: 260px; background: #fff; border-radius: 10px; box-shadow: 0 2px 12px rgba(0,0,0,0.13); display: none; max-height: 350px; overflow-y: auto; border: 2px solid #8b5412;"></div>
                </div>
                <div class="col-auto logo-container">
                    <a href="trangchu.html" class="logo-link text-center">
                        <img src="test/Logo.png" alt="CARTIER Logo" class="logo d-block mx-auto">
                        <span class="logo-text d-block"></span>
                        <small class="tagline d-block"><strong>BE UNIQUE, BE DIFFERENT</strong></small>
                    </a>
                </div>
                <div class="col d-flex justify-content-end">
                    <input type="text" id="search-bar" class="form-control form-control-sm d-inline-block ms-2" placeholder="Tìm sản phẩm..." style="width: 180px; max-width: 40%; display: none; vertical-align: middle; height: 32px; padding: 2px 8px; font-size: 0.95em; border-radius: 16px; border: 1px solid #ccc; background: #fff; box-shadow: 0 2px 8px rgba(0,0,0,0.04);">
                    <a href="search.html" class="header-icon ms-3 search-toggle"><i class="fas fa-search"></i></a>
                    <a href="giohang.html" class="header-icon" style="margin-left: 24px;"><i class="fas fa-box"></i></a>
                </div>
            </div>
        </div>
        <form id="search-form" class="d-none position-absolute top-100 start-0 w-100 p-3 bg-white shadow" style="z-index: 1050;">
          <div class="container">
            <div class="input-group">
              <input type="text" class="form-control" id="search-input" placeholder="Tìm sản phẩm...">
              <button class="btn btn-outline-secondary" type="submit">Tìm</button>
            </div>
          </div>
        </form>
    </header>

    <!-- Main Navigation -->
    <nav class="main-nav">
        <div class="container">
            <ul class="nav justify-content-center">
                <li class="nav-item">
                    <a class="nav-link" href="trangchu.html">TRANG CHỦ</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="trangsuc.html" id="navbarDropdownTrangSuc" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        TRANG SỨC
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdownTrangSuc">
                        <li><a class="dropdown-item" href="nhan.html">Nhẫn</a></li>
                        <li><a class="dropdown-item" href="daychuyen.html">Dây chuyền</a></li>
                        <li><a class="dropdown-item" href="dongho.html">Đồng hồ</a></li>
                        <li><a class="dropdown-item" href="bongtai.html">Bông tai</a></li>
                        <li><a class="dropdown-item" href="vongtay.html">Vòng tay</a></li>
                    </ul>
                </li>
                <li class="nav-item"><a class="nav-link" href="khuyenmai.html">KHUYẾN MÃI</a></li>
                <li class="nav-item"><a class="nav-link active" href="bosuutap.html">BỘ SƯU TẬP</a></li>
                <li class="nav-item"><a class="nav-link" href="thongtin.html">THÔNG TIN</a></li>
                <li class="nav-item"><a class="nav-link" href="contact.html">LIÊN HỆ</a></li>
            </ul>
        </div>
    </nav>
    <div class="banner-lon">
        <div class="banner-lon-content">
           
        </div>
    </div>
    <!-- Breadcrumbs -->
    <div class="breadcrumbs">
        <div class="container">
            <a href="trangchu.html"><i class="fas fa-home"></i> TRANG CHỦ</a> / BỘ SƯU TẬP
        </div>
    </div>
    <div>
        <h1 style=" 
        color: black; 
        border-bottom: 3px solid red; 
        padding-bottom: 6px; 
        display: inline-block;
        font-size: 40px; 
        font-weight: bold;
        margin-bottom: 20px;
        letter-spacing: 2px;
        margin-left: 110px;
        margin-right: auto;
    ">
        MÙA HÈ RỰC RỠ
    </h1>
    </div>
    <div>
        <p style="
            color: black;
            margin-top: 10px; 
            font-size: 18px;
            margin-left: 110px; 
            margin-right: 110px;">
            <br><strong>BST Trang sức vàng “Cartier Summer Collection”</strong> là bản giao hưởng tinh tế giữa sự sang trọng cổ điển và tinh thần phóng khoáng của mùa hè. Lấy cảm hứng từ ánh nắng rực rỡ, biển xanh và những làn gió nhiệt đới, các thiết kế trong BST mang đến vẻ đẹp hiện đại nhưng vẫn đậm chất biểu tượng của Cartier.
            <br>Từng mẫu nhẫn, vòng tay, bông tai và mặt dây chuyền đều được chế tác tỉ mỉ từ vàng 18K với điểm nhấn là các chi tiết khắc biểu tượng, đính kim cương hoặc đá quý tinh tế. Thiết kế tối giản nhưng cá tính, giúp tôn vinh vẻ đẹp tự nhiên và gu thẩm mỹ thanh lịch của người phụ nữ hiện đại.
            <br><strong>Cartier Summer Collection</strong> không chỉ là trang sức – mà là tuyên ngôn phong cách đầy tự tin, giúp phái đẹp rạng rỡ, quyến rũ và nổi bật trong mọi khoảnh khắc mùa hè.
        </p>
    <!-- Collection Section -->
    <div class="container product-grid">
        <h2 class="collection-title">Bộ sưu tập</h2>
        <div class="row">
            <!-- Product Card 1 -->
            <div class="col-md-3 col-sm-6">
                <div class="product-card">
                    <img src="bosuutap/DH1.jpg" alt="Product 1">
                    <div class="card-body">
                        <h5 class="card-title">Sunbeam Horizon</h5>
                        <p class="card-text">Mô tả ngắn gọn về sản phẩm.</p>
                        <p class="product-price" data-price="2123" style="color: #000;">$2123</p>
                        <div class="product-actions mt-2">
                            <button class="btn btn-outline-primary btn-sm me-2 add-to-cart"
                              data-id="1"
                              data-name="Sunbeam Horizon"
                              data-image="bosuutap/DH1.jpg">🛒</button>
                            <button class="btn btn-primary btn-sm buy-now"
                              data-id="1"
                              data-name="Sunbeam Horizon"
                              data-image="bosuutap/DH1.jpg">Mua ngay</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Product Card 2 -->
            <div class="col-md-3 col-sm-6">
                <div class="product-card">
                    <img src="bosuutap/BT1.jpg" alt="Product 2">
                    <div class="card-body">
                        <h5 class="card-title">Ocean Whisper</h5>
                        <p class="card-text">Mô tả ngắn gọn về sản phẩm.</p>
                        <p class="product-price" data-price="110" style="color: #000;">$110</p>
                        <div class="product-actions mt-2">
                            <button class="btn btn-outline-primary btn-sm me-2 add-to-cart"
                              data-id="2"
                              data-name="Ocean Whisper"
                              data-image="bosuutap/BT1.jpg">🛒</button>
                            <button class="btn btn-primary btn-sm buy-now"
                              data-id="2"
                              data-name="Ocean Whisper"
                              data-image="bosuutap/BT1.jpg">Mua ngay</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Product Card 3 -->
            <div class="col-md-3 col-sm-6">
                <div class="product-card">
                    <img src="bosuutap/BT2.jpg" alt="Product 3">
                    <div class="card-body">
                        <h5 class="card-title">Tropical Bloom</h5>
                        <p class="card-text">Mô tả ngắn gọn về sản phẩm.</p>
                        <p class="product-price" data-price="120" style="color: #000;">$120</p>
                        <div class="product-actions mt-2">
                            <button class="btn btn-outline-primary btn-sm me-2 add-to-cart"
                              data-id="3"
                              data-name="Tropical Bloom"
                              data-image="bosuutap/BT2.jpg">🛒</button>
                            <button class="btn btn-primary btn-sm buy-now"
                              data-id="3"
                              data-name="Tropical Bloom"
                              data-image="bosuutap/BT2.jpg">Mua ngay</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Product Card 4 -->
            <div class="col-md-3 col-sm-6">
                <div class="product-card">
                    <img src="bosuutap/N1.jpg" alt="Product 4">
                    <div class="card-body">
                        <h5 class="card-title">Silver Mirage</h5>
                        <p class="card-text">Mô tả ngắn gọn về sản phẩm.</p>
                        <p class="product-price" data-price="130" style="color: #000;">$130</p>
                        <div class="product-actions mt-2">
                            <button class="btn btn-outline-primary btn-sm me-2 add-to-cart"
                              data-id="4"
                              data-name="Silver Mirage"
                              data-image="bosuutap/N1.jpg">🛒</button>
                            <button class="btn btn-primary btn-sm buy-now"
                              data-id="4"
                              data-name="Silver Mirage"
                              data-image="bosuutap/N1.jpg">Mua ngay</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Product Card 5 -->
            <div class="col-md-3 col-sm-6">
                <div class="product-card">
                    <img src="bosuutap/N2.jpg" alt="Product 5">
                    <div class="card-body">
                        <h5 class="card-title">Sunset Gleam</h5>
                        <p class="card-text">Mô tả ngắn gọn về sản phẩm.</p>
                        <p class="product-price" data-price="140" style="color: #000;">$140</p>
                        <div class="product-actions mt-2">
                            <button class="btn btn-outline-primary btn-sm me-2 add-to-cart"
                              data-id="5"
                              data-name="Sunset Gleam"
                              data-image="bosuutap/N2.jpg">🛒</button>
                            <button class="btn btn-primary btn-sm buy-now"
                              data-id="5"
                              data-name="Sunset Gleam"
                              data-image="bosuutap/N2.jpg">Mua ngay</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Product Card 6 -->
            <div class="col-md-3 col-sm-6">
                <div class="product-card">
                    <img src="bosuutap/VT1.jpg" alt="Product 6">
                    <div class="card-body">
                        <h5 class="card-title">Coral Drift</h5>
                        <p class="card-text">Mô tả ngắn gọn về sản phẩm.</p>
                        <p class="product-price" data-price="150" style="color: #000;">$150</p>
                        <div class="product-actions mt-2">
                            <button class="btn btn-outline-primary btn-sm me-2 add-to-cart"
                              data-id="6"
                              data-name="Coral Drift"
                              data-image="bosuutap/VT1.jpg">🛒</button>
                            <button class="btn btn-primary btn-sm buy-now"
                              data-id="6"
                              data-name="Coral Drift"
                              data-image="bosuutap/VT1.jpg">Mua ngay</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Product Card 7 -->
            <div class="col-md-3 col-sm-6">
                <div class="product-card">
                    <img src="bosuutap/VT2.jpg" alt="Product 7">
                    <div class="card-body">
                        <h5 class="card-title">Seafoam</h5>
                        <p class="card-text">Mô tả ngắn gọn về sản phẩm.</p>
                        <p class="product-price" data-price="160" style="color: #000;">$160</p>
                        <div class="product-actions mt-2">
                            <button class="btn btn-outline-primary btn-sm me-2 add-to-cart"
                              data-id="7"
                              data-name="Seafoam"
                              data-image="bosuutap/VT2.jpg">🛒</button>
                            <button class="btn btn-primary btn-sm buy-now"
                              data-id="7"
                              data-name="Seafoam"
                              data-image="bosuutap/VT2.jpg">Mua ngay</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Product Card 8 -->
            <div class="col-md-3 col-sm-6">
                <div class="product-card">
                    <img src="bosuutap/VT3.jpg" alt="Product 8">
                    <div class="card-body">
                        <h5 class="card-title">Lush Palm</h5>
                        <p class="card-text">Mô tả ngắn gọn về sản phẩm.</p>
                        <p class="product-price" data-price="170" style="color: #000;">$170</p>
                        <div class="product-actions mt-2">
                            <button class="btn btn-outline-primary btn-sm me-2 add-to-cart"
                              data-id="8"
                              data-name="Lush Palm"
                              data-image="bosuutap/VT3.jpg">🛒</button>
                            <button class="btn btn-primary btn-sm buy-now"
                              data-id="8"
                              data-name="Lush Palm"
                              data-image="bosuutap/VT3.jpg">Mua ngay</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer style="background-color: #8B4513; color: white; padding: 40px 0;">
  <!-- Logo họa tiết nhỏ ở giữa phía trên -->
  <div style="text-align: center; margin-top: -10px; margin-bottom: 20px;">
  <img src="test/Logo.png" alt="Logo nhỏ" style="height: 100px;">
  <p>DESIGN & MADE TO ORDER</p>
    </div>

  <!-- Các cột thông tin footer -->
  <div class="container">
    <div class="row">
      <div class="col-md-3 col-sm-6 mb-4">
        <h5 class="text-uppercase"><strong>CSKH</strong></h5>
        <ul>
            <li>Hotline: 0123.456.789</li>
            <li>📞 0123.456.789</li>
            <li>Email: support@cartier.com</li>
            <li a href="#" style="color: white; text-decoration: underline;">Gửi yêu cầu hỗ trợ</a></li>
        </ul>
      </div>
      <div class="col-md-3 col-sm-6 mb-4">
        <h5 class="text-uppercase"><strong>CÔNG TY CHÚNG TÔI</strong></h5>
        <ul>
            <li>Tìm cửa hàng</li>
            <li>Cơ hội nghề nghiệp</li>
            <li>Cartier và Trách nhiệm xã hội doanh nghiệp</li>
            <li>Ghi nhận công lao (Credits)</li>
        </ul>
      </div>
      <div class="col-md-3 col-sm-6 mb-4">
        <h5 class="text-uppercase"><strong>KHU VỰC PHÁP LÝ</strong></h5>
        <ul>
            <li>Điều khoản sử dụng</li>
            <li>Chính sách bảo mật</li>
            <li>Tuyên bố nhân quyền</li>
            <li>Điều kiện bán hàng</li>
        </ul>
      </div>
      <div class="col-md-3 col-sm-6 mb-4">
        <h5 class="text-uppercase"><strong>ĐỊA CHỈ</strong></h5>
        <ul>
            <li>233A Phan Văn Trị, p.11, Q. Bình Thạnh, TP. Hồ Chí Minh</li>
            <li>69/68 Đặng Thùy Trâm, p.13, Q. Bình Thạnh, TP. Hồ Chí Minh</li>
            <li>45 Nguyễn Khắc Nhu, p. Cô Giang, Q. 1, TP. Hồ Chí Minh</li>
        </ul>
      </div>
    </div>
    <div style="text-align: center; margin-top: -10px; margin-bottom: 20px;">
      <h5 class="text-uppercase"><strong>THEO DÕI CHÚNG TÔI</strong></h5>
      <p>📷 Instagram 📘 Facebook  X (Twitter) </p>
      <P>▶️ YouTube 📌 Pinterest</P>
      <p>COPYRIGHT © 2025 Cartier</p>
    </div>
  </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="products.js"></script>
    <script>
function getProductDataFromButton(btn) {
  const card = btn.closest('.product-card');
  const priceSpan = card.querySelector('.product-price');
  const price = priceSpan ? parseFloat(priceSpan.getAttribute('data-price')) : 0;
  return {
    id: btn.getAttribute('data-id'),
    name: btn.getAttribute('data-name'),
    price: price,
    image: btn.getAttribute('data-image'),
    quantity: 1
  };
}
document.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('.add-to-cart').forEach(function(btn) {
    btn.addEventListener('click', function(e) {
      e.preventDefault();
      const product = getProductDataFromButton(btn);
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      const existing = cart.find(item => item.id == product.id);
      if (existing) {
        existing.quantity += 1;
        existing.price = product.price;
      } else {
        cart.push(product);
      }
      localStorage.setItem('cart', JSON.stringify(cart));
      alert('Đã thêm vào giỏ hàng!');
    });
  });
  document.querySelectorAll('.buy-now').forEach(function(btn) {
    btn.addEventListener('click', function(e) {
      e.preventDefault();
      const product = getProductDataFromButton(btn);
      localStorage.setItem('buynow', JSON.stringify([product]));
      window.location.href = 'thanhtoan.html';
    });
  });
});
document.addEventListener("DOMContentLoaded", function () {
  const searchIcon = document.querySelector('.search-toggle');
  const searchBar = document.getElementById('search-bar');
  const dropdown = document.getElementById('global-search-dropdown');
  searchIcon.addEventListener('click', function (e) {
    e.preventDefault();
    if (searchBar.style.display === 'none' || !searchBar.style.display) {
      searchBar.style.display = 'inline-block';
      searchBar.focus();
    } else {
      searchBar.value = '';
      searchBar.style.display = 'none';
      dropdown.style.display = 'none';
    }
  });
  searchBar.addEventListener('input', function () {
    const query = searchBar.value.trim().toLowerCase();
    if (!query) {
      dropdown.style.display = 'none';
      return;
    }
    const results = (window.allProducts || []).filter(p =>
      p.name.toLowerCase().includes(query) ||
      p.desc.toLowerCase().includes(query)
    );
    if (results.length === 0) {
      dropdown.innerHTML = '<div style="padding: 10px; color: #888;">Không tìm thấy sản phẩm.</div>';
      dropdown.style.display = 'block';
      return;
    }
    dropdown.innerHTML = results.map(product => `
      <div style="display: flex; align-items: center; padding: 8px 12px; border-bottom: 1px solid #eee; background: transparent;">
        <img src="${product.image}" alt="${product.name}" style="width: 38px; height: 38px; object-fit: cover; border-radius: 6px; margin-right: 10px;">
        <div style="flex:1;">
          <div style="font-weight: 600; color: #8b5412;">${product.name}</div>
          <div style="font-size: 0.97em; color: #8b5412;">${product.desc}</div>
          <div style="color: #8b5412; font-weight: bold;">$${product.price}</div>
        </div>
        <button class="btn view-product" data-id="${product.id}" style="background:#8b5412;color:#fff;border:none;border-radius:6px;padding:4px 12px;margin-right:4px;">Xem</button>
        <button class="btn add-to-cart" data-id="${product.id}" style="background:#8b5412;color:#fff;border:none;border-radius:6px;padding:4px 12px;">🛒</button>
      </div>
    `).join('');
    dropdown.style.display = 'block';
  });
  document.addEventListener('click', function(e) {
    if (e.target.classList.contains('add-to-cart')) {
      const id = e.target.getAttribute('data-id');
      const product = (window.allProducts || []).find(p => p.id == id);
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      const existing = cart.find(item => item.id == product.id);
      if (existing) {
        existing.quantity += 1;
        existing.price = product.price;
      } else {
        cart.push({...product, quantity: 1});
      }
      localStorage.setItem('cart', JSON.stringify(cart));
      alert('Đã thêm vào giỏ hàng!');
    }
    if (e.target.classList.contains('view-product')) {
      const id = e.target.getAttribute('data-id');
      window.location.href = `search.html#${id}`;
    }
    // Hide dropdown if click outside
    if (!dropdown.contains(e.target) && e.target !== searchBar && e.target !== searchIcon) {
      dropdown.style.display = 'none';
    }
  });
  searchBar.addEventListener('blur', function() {
    setTimeout(() => { dropdown.style.display = 'none'; }, 200);
  });
});
</script>
</body>
</html>
